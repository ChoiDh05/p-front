<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="/static/css/main.css" />
        <link rel="stylesheet" href="/static/css/join/company.css" />
        <title>카테고리 목록</title>
    </head>
    <body>
        <div class="category-section">
            <!-- 대분류 카테고리 -->
            <div id="mainCategory">
                <strong>서비스업</strong>
                <br />
                <!-- 라디오 버튼으로 대분류 선택 -->
                <label>
                    <input
                        type="radio"
                        name="mainCategory"
                        value="호텔·여행·항공"
                        checked
                    />
                    호텔·여행·항공
                </label>
                <label>
                    <input
                        type="radio"
                        name="mainCategory"
                        value="외식업·식음료"
                    />
                    외식업·식음료
                </label>
                <label>
                    <input
                        type="radio"
                        name="mainCategory"
                        value="레저·스포츠·여가"
                    />
                    레저·스포츠·여가
                </label>
            </div>
        </div>

        <div class="category-section">
            <!-- 중분류 및 소분류 카테고리 -->
            <div id="subCategory"></div>
        </div>

        <script>
            const category = {
                "호텔·여행·항공": [
                    { name: "호텔", code: "10803" },
                    { name: "콘도", code: "10804" },
                    { name: "카지노", code: "10805" },
                    { name: "여행사", code: "10806" },
                    { name: "항공사", code: "10807" },
                    { name: "관광", code: "10813" },
                    { name: "관광통역", code: "10814" },
                    { name: "면세점", code: "10818" },
                    { name: "유학·이민", code: "10819" },
                ],
                "외식업·식음료": [
                    { name: "레스토랑", code: "20801" },
                    { name: "패스트푸드", code: "20802" },
                    { name: "카페", code: "20803" },
                ],
                "레저·스포츠·여가": [
                    { name: "골프장", code: "30801" },
                    { name: "테니스장", code: "30802" },
                    { name: "수영장", code: "30803" },
                ],
            };

            const mainCategoryDiv = document.getElementById("mainCategory");
            const subCategoryDiv = document.getElementById("subCategory");

            // 초기 소분류 카테고리 출력
            const displaySubCategory = (selectedCategory) => {
                let subCategoryHTML = `<strong>서비스업 &gt; ${selectedCategory}</strong><br/><ul class="list_depth3">`;
                category[selectedCategory].forEach((item) => {
                    subCategoryHTML += `
                        <li class="item_depth3">
                            <label class="sri_check small" for="code_${item.code}">
                                <input
                                    type="checkbox"
                                    id="code_${item.code}"
                                    name="code"
                                    class="inp_check"
                                    value="${item.name}"
                                    data-bcode="${item.code}"
                                    data-code="${item.code}"
                                />
                                <span class="txt_check txt_point">${item.name}</span>
                            </label>
                        </li>
                    `;
                });
                subCategoryHTML += "</ul>";
                subCategoryDiv.innerHTML = subCategoryHTML;
            };

            // 처음 로드 시 첫 번째 카테고리 보여주기
            displaySubCategory("호텔·여행·항공");

            // 라디오 버튼 클릭 시 하위 카테고리 업데이트
            document
                .querySelectorAll('input[name="mainCategory"]')
                .forEach((radio) => {
                    radio.addEventListener("change", (e) => {
                        const selectedCategory = e.target.value;
                        displaySubCategory(selectedCategory);
                    });
                });
        </script>
    </body>
</html>
